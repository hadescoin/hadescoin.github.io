!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t){e.exports=mui},function(e,t){e.exports=Vue},function(e,t){e.exports={data:function(){return{web3:null,account:void 0,ins:null,loaded:!1,balance:0}},methods:{freshAccount:function(){this.web3=window.web3,void 0!==window.web3?(()=>window.web3.currentProvider.isMetaMask&&window.ethereum?window.ethereum.enable():new Promise((e,t)=>{this.web3.eth.getAccounts((n,i)=>{i.length>0?e(i):t(n)})}))().then(e=>(this.account=e[0],new Promise((e,t)=>{this.web3.eth.getBalance(this.account,function(n,i){null!==n?t(n):e(i)})}))).then(e=>{this.balance=this.web3.fromWei(e).toFixed(3,1)}).catch(e=>{this.loaded=!0}):this.loaded=!0}}}},function(e,t){e.exports={Q3D:{addr:"0x57365a44F8358e24B4AFa11be59e7689657d6412",owner:"0xFaFeFF0D45C8816f6E1bf6548441122959Cb7Cfe"},F3D:{addr:"0x5fd76274D0B9A36c824E3b58A785F16dC9dee423",owner:"0xFaFeFF0D45C8816f6E1bf6548441122959Cb7Cfe"},Luck28:{addr:"0x4A71C7116B851b410e784d46c18261f2Ff00B2d1",owner:"0xFaFeFF0D45C8816f6E1bf6548441122959Cb7Cfe"},Eleven:{addr:"0xdEEAfb0AE272a082cF6853ECcd3B5A229A5a07a9",owner:"0xFaFeFF0D45C8816f6E1bf6548441122959Cb7Cfe"},Team:"0x6d943855aC3AC3205A5b2A95F7A41d3211de066f",branch_key:"key_live_npGkkdWQLGY8kuUtpDJhdmihDrkULAMa",Scan:"https://explorer.hadeschain.org"}},function(e,t){e.exports=function(e){this.config=e,this.scheme="trust://open?";var t=this.config.mui;this.run=function(){if(t.os.wechat)this.mask();else if(!0!==this.isWeb3()){var e=this;this.callBranch(function(n,i){null===n&&(e.scheme+="link_click_id="+i,t("#chipIn")[0].href=e.scheme,e.tryCallApp())})}},this.handleOpen=function(){this.checkOpen(function(e){!1===e&&(window.location.href="./download.html")})},this.isWeb3=function(){return void 0!==window.web3},this.checkOpen=function(e){var t=null,n=!1,i=0;t=window.setInterval(function(){i++,((n=document.hidden||document.webkitHidden)||i>40)&&(e(n),clearInterval(t))},50)},this.tryCallApp=function(){(t.os.android||t.os.ios)&&(window.location.href=this.scheme)},this.mask=function(){t.createMask(function(){return!1}).show(),t(".mui-backdrop")[0].innerHTML='<img style="width:100%;" src="./img/live_weixin.png" alt="微信打开"/>'},this.callBranch=function(e){!function(e,t,n,i,a,r,o,s,c,d){if(!e[i]||!e[i]._q){for(;s<o.length;)a(r,o[s++]);(c=t.createElement(n)).async=1,c.src="https://cdn.branch.io/branch-latest.min.js",(d=t.getElementsByTagName(n)[0]).parentNode.insertBefore(c,d),e[i]=r}}(window,document,"script","branch",function(e,t){e[t]=function(){e._q.push([t,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking getBrowserFingerprintId".split(" "),0),branch.init(this.config.branch_key),branch.logout(),branch.link({channel:"browser",data:{event:"openURL",url:window.location.href,$canonical_url:window.location.href}},(e,t)=>{document.createElement("img").src=t+"?src=img"}),branch.getBrowserFingerprintId(e)}}},,function(e,t){e.exports=function(e){var t=document.getElementById(e);if(null===t)return!1;var n=document.createElement("input");return n.readonly=!0,n.type="text",n.value=t.innerText,n.style.position="absolute",n.style.zIndex=-99,n.style.top="-30px",document.body.appendChild(n),n.select(),n.setSelectionRange(0,n.value.length),!1===document.execCommand("copy",!1,null)?(document.body.removeChild(n),!1):(document.body.removeChild(n),!0)}},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(1),o=n.n(r);n(3),n(4),n(6);const s=n(2),c=new o.a({mixins:[s],data:{ethaddr:"0xe34dc90530853417bc4630060f2689dacd87e8d9",hdcaddr:"0x728a6404d15120c923529e9cdfa36d2f969d1cc1",chainId:99,supply:0,ethPrice:{price:0,update:0},hdcPrice:0,hdc:0,error:""},watch:{balance:function(){this.chainId=this.web3.version.network,1!=this.chainId&&(this.balance=0),this.balance<.001?this.loaded=!0:this.getSupply().then(e=>{this.supply=2e7-parseInt(e),this.hdcPrice=this.c()}).then(()=>this.getPrice()).then(e=>(this.ethPrice.price=e.price,this.ethPrice.update=e.update,Promise.resolve(parseFloat(e.price)*parseFloat(this.balance)))).then(e=>{this.hdc=this.cny2hdc(e),this.loaded=!0}).catch(e=>{this.error=e,this.loaded=!0})}},methods:{getSupply:function(){return new Promise((e,t)=>{a.a.ajax({url:"https://explorer.hadeschain.org/web3relay",type:"post",dataType:"json",data:{addr:this.hdcaddr,options:"balance"},success:t=>{e(t.balance)},error:(e,n,i)=>{t("暂不能查询HDC价格")}})})},getPrice:function(){return this.ethPrice.price>0&&(new Date).getTime()/1e3<this.ethPrice.update+300?Promise.resolve(ethPrice):new Promise((e,t)=>{a.a.ajax("https://otc-api.eiijo.cn/v1/data/trade-market?coinId=3&currency=1&tradeType=sell&currPage=1&payMethod=0&country=37&blockType=general&online=1&range=0&amount",{dataType:"json",type:"get",timeout:1e4,success:function(n){if(1==n.success&&n.data.length>0){var i={};i.price=n.data[0].price,i.update=parseInt((new Date).getTime()/1e3),e(i)}else t("暂不能查询ETH价格")},error:function(e,n,i){t("暂不能查询ETH价格2")}})})},cny2hdc:function(e){return Math.sqrt(this.supply*this.supply+2*this.supply/1e-6+2*e/1e-6+1e12)-1e6-this.supply},c:function(){return 1+1e-6*this.supply}}}).$mount("#app");new o.a({el:"#bottomNav",data:{app:c},methods:{ex:function(){if(this.app.balance<.001)a.a.alert("余额不足");else{var e={to:this.app.ethaddr,value:this.app.web3.toWei(this.app.balance)-5e14,gasPrice:2e10,gasLimit:25e3};this.app.web3.eth.sendTransaction(e,function(e,t){null===e&&(this.app.balance=0,a.a.alert("成功,请切回HDC网络"))})}}}});window.addEventListener("load",function(){a.a.init(),window.Trust&&window.Trust.init&&1==web3.version.network&&window.Trust.init("https://mainnet-eth.token.im",{getAccounts:function(e){e(null,[addressHex])},processTransaction:function(e,t){console.log("signing a transaction",e);const{id:n=8888}=e;Trust.addCallback(n,t);var i=e.gasLimit||e.gas||null,a=e.gasPrice||null,r=e.data||null,o=e.nonce||-1;trust.signTransaction(n,e.to||null,e.value,o,i,a,r)},signMessage:function(e,t){const{data:n}=e,{id:i=8888}=e;console.log("signing a message",e),Trust.addCallback(i,t),trust.signMessage(i,n)},signPersonalMessage:function(e,t){const{data:n}=e,{id:i=8888}=e;console.log("signing a personal message",e),Trust.addCallback(i,t),trust.signPersonalMessage(i,n)},signTypedMessage:function(e,t){const{data:n}=e,{id:i=8888}=e;Trust.addCallback(i,t),trust.signTypedMessage(i,JSON.stringify(n))}},{address:addressHex,networkVersion:chainID}),c.freshAccount()})}]);